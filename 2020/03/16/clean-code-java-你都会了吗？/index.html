<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="整洁代码,">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0">






<meta name="description" content="代码整洁的-JavaGithub地址： https://github.com/junbin1011/clean-code-java 目录 简介 变量 函数 对象和数据结构 类 SOLID 测试 错误处理 格式化 注释 工具  简介 将源自 Robert C. Martin 的 Clean Code的软件工程原则适配到 Java 。 这不是一个代码风格指南， 它是一个使用 Java 来生产可读的,">
<meta name="keywords" content="整洁代码">
<meta property="og:type" content="article">
<meta property="og:title" content="clean-code-java 你都会了吗？">
<meta property="og:url" content="https://junbin1011.github.io/2020/03/16/clean-code-java-你都会了吗？/index.html">
<meta property="og:site_name" content="JunBin">
<meta property="og:description" content="代码整洁的-JavaGithub地址： https://github.com/junbin1011/clean-code-java 目录 简介 变量 函数 对象和数据结构 类 SOLID 测试 错误处理 格式化 注释 工具  简介 将源自 Robert C. Martin 的 Clean Code的软件工程原则适配到 Java 。 这不是一个代码风格指南， 它是一个使用 Java 来生产可读的,">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/1/17093d303918263e?w=500&h=471&f=jpeg&s=45533">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/4/170a34230f1219ec?w=604&h=287&f=png&s=29918">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/4/170a3a215261376c?w=1510&h=778&f=png&s=223360">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/4/170a47f863d2a8ef?w=2746&h=1306&f=png&s=389802">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/4/170a39d986563f1b?w=635&h=308&f=png&s=13685">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/16/170e0c3c64a3f0ff?w=1066&h=386&f=png&s=117806">
<meta property="og:updated_time" content="2020-03-16T00:39:47.892Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="clean-code-java 你都会了吗？">
<meta name="twitter:description" content="代码整洁的-JavaGithub地址： https://github.com/junbin1011/clean-code-java 目录 简介 变量 函数 对象和数据结构 类 SOLID 测试 错误处理 格式化 注释 工具  简介 将源自 Robert C. Martin 的 Clean Code的软件工程原则适配到 Java 。 这不是一个代码风格指南， 它是一个使用 Java 来生产可读的,">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2020/3/1/17093d303918263e?w=500&h=471&f=jpeg&s=45533">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://junbin1011.github.io/2020/03/16/clean-code-java-你都会了吗？/">





  <title> clean-code-java 你都会了吗？ | JunBin </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b3ffb4912eee79c795100275f268095c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JunBin</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一花一世界，一码一浮生</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://junbin1011.github.io/2020/03/16/clean-code-java-你都会了吗？/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="黄俊彬">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://note.youdao.com/yws/api/personal/file/WEB917b08143504a6f8c96228312fcb5245?method=download&shareKey=03cb5c302c83b56bbb91668c5008444f">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JunBin">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                clean-code-java 你都会了吗？
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-16T08:38:32+08:00">
                2020-03-16
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/03/16/clean-code-java-你都会了吗？/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2020/03/16/clean-code-java-你都会了吗？/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="代码整洁的-Java"><a href="#代码整洁的-Java" class="headerlink" title="代码整洁的-Java"></a>代码整洁的-Java</h1><p><strong>Github地址：</strong> <a href="https://github.com/junbin1011/clean-code-java" target="_blank" rel="external">https://github.com/junbin1011/clean-code-java</a></p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol>
<li><a href="#简介">简介</a></li>
<li><a href="#变量">变量</a></li>
<li><a href="#函数">函数</a></li>
<li><a href="#对象和数据结构">对象和数据结构</a></li>
<li><a href="#类">类</a></li>
<li><a href="#solid">SOLID</a></li>
<li><a href="#测试">测试</a></li>
<li><a href="#错误处理">错误处理</a></li>
<li><a href="#格式化">格式化</a></li>
<li><a href="#注释">注释</a></li>
<li><a href="#工具">工具</a></li>
</ol>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><img src="https://user-gold-cdn.xitu.io/2020/3/1/17093d303918263e?w=500&amp;h=471&amp;f=jpeg&amp;s=45533" alt="一张用你阅读代码时吐槽的数量来评估软件质量的搞笑图片"></p>
<p>将源自 Robert C. Martin 的 <a href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" target="_blank" rel="external"><em>Clean Code</em></a><br>的软件工程原则适配到 Java 。 这不是一个代码风格指南， 它是一个使用 Java 来生产<br>可读的, 可重用的, 以及可重构的软件的指南。</p>
<p>这里的每一项原则都不是必须遵守的， 甚至只有更少的能够被广泛认可。 这些仅仅是指南而已， 但是却是<br><em>Clean Code</em> 作者多年经验的结晶。</p>
<p>我们的软件工程行业只有短短的 50 年， 依然有很多要我们去学习。 当软件架构与建筑架构一样古老时，<br>也许我们将会有硬性的规则去遵守。 而现在， 让这些指南做为你和你的团队生产的 Java 代码的<br>质量的标准。</p>
<p>还有一件事： 知道这些指南并不能马上让你成为一个更加出色的软件开发者， 并且使用它们工作多年也并<br>不意味着你不再会犯错误。 每一段代码最开始都是草稿， 像湿粘土一样被打造成最终的形态。 最后当我们<br>和搭档们一起审查代码时清除那些不完善之处, 不要因为最初需要改善的草稿代码而自责， 而是对那些代<br>码下手。</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a><strong>变量</strong></h2><h3 id="使用有意义并且可读的变量名称"><a href="#使用有意义并且可读的变量名称" class="headerlink" title="使用有意义并且可读的变量名称"></a>使用有意义并且可读的变量名称</h3><p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String yyyymmdstr = new SimpleDateFormat(&quot;YYYY/MM/DD&quot;).format(new Date());</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String currentDate = new SimpleDateFormat(&quot;YYYY/MM/DD&quot;).format(new Date());</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="为相同类型的变量使用相同的词汇"><a href="#为相同类型的变量使用相同的词汇" class="headerlink" title="为相同类型的变量使用相同的词汇"></a>为相同类型的变量使用相同的词汇</h3><p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">getUserInfo();</div><div class="line">getClientData();</div><div class="line">getCustomerRecord();</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">getUser();</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="使用可搜索的名称"><a href="#使用可搜索的名称" class="headerlink" title="使用可搜索的名称"></a>使用可搜索的名称</h3><p>我们要阅读的代码比要写的代码多得多， 所以我们写出的代码的可读性和可搜索性是很重要的。 使用没有<br>意义的变量名将会导致我们的程序难于理解， 将会伤害我们的读者， 所以请使用可搜索的变量名。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 艹， 86400000 是什么鬼？</div><div class="line"> setTimeout(blastOff, 86400000);</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// 将它们声明为全局常量。</div><div class="line"> public static final int MILLISECONDS_IN_A_DAY = 86400000;</div><div class="line"> setTimeout(blastOff, MILLISECONDS_IN_A_DAY);</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="使用解释性的变量"><a href="#使用解释性的变量" class="headerlink" title="使用解释性的变量"></a>使用解释性的变量</h3><p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">String address = &quot;One Infinite Loop, Cupertino 95014&quot;;</div><div class="line">String cityZipCodeRegex = &quot;/^[^,\\\\]+[,\\\\\\s]+(.+?)\\s*(\\d&#123;5&#125;)?$/&quot;;</div><div class="line"></div><div class="line">saveCityZipCode(address.split(cityZipCodeRegex)[0],</div><div class="line">address.split(cityZipCodeRegex)[1]);</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">String address = &quot;One Infinite Loop, Cupertino 95014&quot;;</div><div class="line">String cityZipCodeRegex = &quot;/^[^,\\\\]+[,\\\\\\s]+(.+?)\\s*(\\d&#123;5&#125;)?$/&quot;;</div><div class="line"></div><div class="line">String city = address.split(cityZipCodeRegex)[0];</div><div class="line">String zipCode = address.split(cityZipCodeRegex)[1];</div><div class="line"></div><div class="line">saveCityZipCode(city, zipCode);</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="避免心理映射"><a href="#避免心理映射" class="headerlink" title="避免心理映射"></a>避免心理映射</h3><p>显示比隐式更好</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">String [] l = &#123;&quot;Austin&quot;, &quot;New York&quot;, &quot;San Francisco&quot;&#125;;</div><div class="line"></div><div class="line">       for (int i = 0; i &lt; l.length; i++) &#123;</div><div class="line">           String li = l[i];</div><div class="line">           doStuff();</div><div class="line">           doSomeOtherStuff();</div><div class="line">           // ...</div><div class="line">           // ...</div><div class="line">           // ...</div><div class="line">           // Wait, what is `$li` for again?</div><div class="line">           dispatch(li);</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">String[] locations = &#123;&quot;Austin&quot;, &quot;New York&quot;, &quot;San Francisco&quot;&#125;;</div><div class="line"></div><div class="line">       for (String location : locations) &#123;</div><div class="line">           doStuff();</div><div class="line">           doSomeOtherStuff();</div><div class="line">           // ...</div><div class="line">           // ...</div><div class="line">           // ...</div><div class="line">           dispatch(location);</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="不添加不必要的上下文"><a href="#不添加不必要的上下文" class="headerlink" title="不添加不必要的上下文"></a>不添加不必要的上下文</h3><p>如果你的类名/对象名有意义， 不要在变量名上再重复。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">class Car &#123;</div><div class="line">          public String carMake = &quot;Honda&quot;;</div><div class="line">          public String carModel = &quot;Accord&quot;;</div><div class="line">          public String carColor = &quot;Blue&quot;;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      void paintCar(Car car) &#123;</div><div class="line">          car.carColor = &quot;Red&quot;;</div><div class="line">      &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">class Car &#123;</div><div class="line">          public String make = &quot;Honda&quot;;</div><div class="line">          public String model = &quot;Accord&quot;;</div><div class="line">          public String color = &quot;Blue&quot;;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      void paintCar(Car car) &#123;</div><div class="line">          car.color = &quot;Red&quot;;</div><div class="line">      &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a><strong>函数</strong></h2><h3 id="函数参数-两个以下最理想"><a href="#函数参数-两个以下最理想" class="headerlink" title="函数参数 (两个以下最理想)"></a>函数参数 (两个以下最理想)</h3><p>限制函数参数的个数是非常重要的， 因为这样将使你的函数容易进行测试。 一旦超过三个参数将会导致组<br>合爆炸， 因为你不得不编写大量针对每个参数的测试用例。</p>
<p>没有参数是最理想的， 一个或者两个参数也是可以的， 三个参数应该避免， 超过三个应该被重构。 通常，<br>如果你有一个超过两个函数的参数， 那就意味着你的函数尝试做太多的事情。 如果不是， 多数情况下一个<br>更高级对象可能会满足需求。</p>
<p>当你发现你自己需要大量的参数时， 你可以使用一个对象。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">void createMenu(String title,String body,String buttonText,boolean cancellable)&#123;&#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的</strong>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">class MenuConfig&#123;</div><div class="line">           String title;</div><div class="line">           String body;</div><div class="line">           String buttonText;</div><div class="line">           boolean cancellable;</div><div class="line">       &#125;</div><div class="line">       void  createMenu(MenuConfig menuConfig)&#123;&#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="函数应当只做一件事情"><a href="#函数应当只做一件事情" class="headerlink" title="函数应当只做一件事情"></a>函数应当只做一件事情</h3><p>这是软件工程中最重要的一条规则， 当函数需要做更多的事情时， 它们将会更难进行编写、 测试和推理。<br>当你能将一个函数隔离到只有一个动作， 他们将能够被容易的进行重构并且你的代码将会更容易阅读。 如<br>果你严格遵守本指南中的这一条， 你将会领先于许多开发者。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public void emailClients(List&lt;Client&gt; clients) &#123;</div><div class="line">           for (Client client : clients) &#123;</div><div class="line">               Client clientRecord = repository.findOne(client.getId());</div><div class="line">               if (clientRecord.isActive())&#123;</div><div class="line">                   email(client);</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public void emailClients(List&lt;Client&gt; clients) &#123;</div><div class="line">           for (Client client : clients) &#123;</div><div class="line">               if (isActiveClient(client)) &#123;</div><div class="line">                   email(client);</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">private boolean isActiveClient(Client client) &#123;</div><div class="line">           Client clientRecord = repository.findOne(client.getId());</div><div class="line">           return clientRecord.isActive();</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="函数名称应该说明它要做什么"><a href="#函数名称应该说明它要做什么" class="headerlink" title="函数名称应该说明它要做什么"></a>函数名称应该说明它要做什么</h3><p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">private void addToDate(Date date, int month)&#123;</div><div class="line">           //..</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       Date date = new Date();</div><div class="line"></div><div class="line">       // It&apos;s hard to to tell from the method name what is added</div><div class="line">       addToDate(date, 1);</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">private void addMonthToDate(Date date, int month)&#123;</div><div class="line">          //..</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      Date date = new Date();</div><div class="line">      addMonthToDate(1, date);</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="函数应该只有一个抽象级别"><a href="#函数应该只有一个抽象级别" class="headerlink" title="函数应该只有一个抽象级别"></a>函数应该只有一个抽象级别</h3><p>当在你的函数中有多于一个抽象级别时， 你的函数通常做了太多事情。 拆分函数将会提升重用性和测试性。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">void parseBetterJSAlternative(String code)&#123;</div><div class="line">       String[] REGECES=&#123;&#125;;</div><div class="line">       String[] statements=code.split(&quot; &quot;);</div><div class="line">       String[] tokens=&#123;&#125;;</div><div class="line">       for(String regex: Arrays.asList(REGECES))&#123;</div><div class="line">              for(String statement:Arrays.asList(statements))&#123;</div><div class="line">                  //...</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       String[] ast=&#123;&#125;;</div><div class="line">       for(String token:Arrays.asList(tokens))&#123;</div><div class="line">               //lex ...</div><div class="line">           &#125;</div><div class="line"></div><div class="line">       for(String node:Arrays.asList(ast))&#123;</div><div class="line">               //parse ...</div><div class="line">           &#125;</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">String[] tokenize(String code)&#123;</div><div class="line">       String[] REGECES=&#123;&#125;;</div><div class="line">       String[] statements=code.split(&quot; &quot;);</div><div class="line">       String[] tokens=&#123;&#125;;</div><div class="line">       for(String regex: Arrays.asList(REGECES))&#123;</div><div class="line">           for(String statement:Arrays.asList(statements))&#123;</div><div class="line">                   //tokens push</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       return tokens;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       String[] lexer(String[] tokens)&#123;</div><div class="line">       String[] ast=&#123;&#125;;</div><div class="line">       for(String token:Arrays.asList(tokens))&#123;</div><div class="line">               //ast push</div><div class="line">       &#125;</div><div class="line">       return ast;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       void parseBetterJSAlternative(String code)&#123;</div><div class="line">       String[] tokens=tokenize(code);</div><div class="line">       String[] ast=lexer(tokens);</div><div class="line">       for(String node:Arrays.asList(ast))&#123;</div><div class="line">               //parse ...</div><div class="line">           &#125;</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="移除冗余代码"><a href="#移除冗余代码" class="headerlink" title="移除冗余代码"></a>移除冗余代码</h3><p>竭尽你的全力去避免冗余代码。 冗余代码是不好的， 因为它意味着当你需要修改一些逻辑时会有多个地方<br>需要修改。</p>
<p>想象一下你在经营一家餐馆， 你需要记录所有的库存西红柿， 洋葱， 大蒜， 各种香料等等。 如果你有多<br>个记录列表， 当你用西红柿做一道菜时你得更新多个列表。 如果你只有一个列表， 就只有一个地方需要更<br>新！</p>
<p>你有冗余代码通常是因为你有两个或多个稍微不同的东西， 它们共享大部分， 但是它们的不同之处迫使你使<br>用两个或更多独立的函数来处理大部分相同的东西。 移除冗余代码意味着创建一个可以处理这些不同之处的<br>抽象的函数/模块/类。</p>
<p>让这个抽象正确是关键的， 这是为什么要你遵循 <em>Classes</em> 那一章的 SOLID 的原因。 不好的抽象比冗<br>余代码更差， 所以要谨慎行事。 既然已经这么说了， 如果你能够做出一个好的抽象， 才去做。 不要重复<br>你自己， 否则你会发现当你要修改一个东西时时刻需要修改多个地方。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">void showDeveloperList(List&lt;Developer&gt; developers)&#123;</div><div class="line">           for(Developer developer:developers)&#123;</div><div class="line">               render(new Data(developer.expectedSalary,developer.experience,developer.githubLink));</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">void showManagerrList(List&lt;Manager&gt; managers)&#123;</div><div class="line">           for(Manager manager:managers)&#123;</div><div class="line">               render(new Data(manager.expectedSalary,manager.experience,manager.portfolio));</div><div class="line">           &#125;</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">void showList(List&lt;Employee&gt; employees)&#123;</div><div class="line">           for(Employee employee:employees)&#123;</div><div class="line">               Data data=new Data(employee.expectedSalary,employee.experience,employee.githubLink);</div><div class="line">               String portfolio=employee.portfolio;</div><div class="line">               if(&quot;manager&quot;.equals(employee))&#123;</div><div class="line">                   portfolio=employee.portfolio;</div><div class="line">               &#125;</div><div class="line">               data.portfolio=portfolio;</div><div class="line">               render(data);</div><div class="line">           &#125;</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="不要使用标记位做为函数参数"><a href="#不要使用标记位做为函数参数" class="headerlink" title="不要使用标记位做为函数参数"></a>不要使用标记位做为函数参数</h3><p>标记位是告诉你的用户这个函数做了不只一件事情。 函数应该只做一件事情。 如果你的函数因为一个布尔值<br>出现不同的代码路径， 请拆分它们。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">void createFile(String name,boolean temp)&#123;</div><div class="line">        if(temp)&#123;</div><div class="line">            new File(&quot;./temp&quot;+name);</div><div class="line">        &#125;else&#123;</div><div class="line">           new File(name);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">void createFile(String name)&#123;</div><div class="line">        new File(name);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">void createTempFile(String name)&#123;</div><div class="line">        new File(&quot;./temp&quot;+name);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="避免副作用"><a href="#避免副作用" class="headerlink" title="避免副作用"></a>避免副作用</h3><p>如果一个函数做了除接受一个值然后返回一个值或多个值之外的任何事情， 它将会产生副作用， 它可能是<br>写入一个文件， 修改一个全局变量， 或者意外的把你所有的钱连接到一个陌生人那里。</p>
<p>现在在你的程序中确实偶尔需要副作用， 就像上面的代码， 你也许需要写入到一个文件， 你需要做的是集<br>中化你要做的事情， 不要让多个函数或者类写入一个特定的文件， 用一个服务来实现它， 一个并且只有一<br>个。</p>
<p>重点是避免这些常见的易犯的错误， 比如在对象之间共享状态而不使用任何结构， 使用任何地方都可以写入<br>的可变的数据类型， 没有集中化导致副作用。 如果你能做到这些， 那么你将会比其它的码农大军更加幸福。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">String name=&quot;Ryan McDermott&quot;;</div><div class="line">void splitIntoFirstAndLastName()&#123;</div><div class="line">        name=name.split(&quot; &quot;).toString();</div><div class="line">&#125;</div><div class="line">splitIntoFirstAndLastName();</div><div class="line">System.out.println(name);</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">String name=&quot;Ryan McDermott&quot;;</div><div class="line">String splitIntoFirstAndLastName()&#123;</div><div class="line">        return name.split(&quot; &quot;).toString();</div><div class="line">    &#125;</div><div class="line">String newName=splitIntoFirstAndLastName();</div><div class="line">System.out.println(name);</div><div class="line">System.out.println(newName);</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="函数式编程优于指令式编程"><a href="#函数式编程优于指令式编程" class="headerlink" title="函数式编程优于指令式编程"></a>函数式编程优于指令式编程</h3><p>函数式语言更加简洁<br>并且更容易进行测试， 当你可以使用函数式编程风格时请尽情使用。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">List&lt;Integer&gt; programmerOutput=new ArrayList&lt;&gt;();</div><div class="line">programmerOutput.add(500);</div><div class="line">programmerOutput.add(1500);</div><div class="line">programmerOutput.add(150);</div><div class="line">programmerOutput.add(1000);</div><div class="line">int totalOutput=0;</div><div class="line">for(int i=0;i&lt;programmerOutput.size();i++)&#123;</div><div class="line">    totalOutput+=programmerOutput.get(i);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">List&lt;Integer&gt; programmerOutput=new ArrayList&lt;&gt;();</div><div class="line">programmerOutput.add(500);</div><div class="line">programmerOutput.add(1500);</div><div class="line">programmerOutput.add(150);</div><div class="line">programmerOutput.add(1000);</div><div class="line">int totalOutput= programmerOutput.stream().filter(programmer -&gt; programmer &gt; 500).mapToInt(programmer -&gt; programmer).sum();</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="封装条件语句"><a href="#封装条件语句" class="headerlink" title="封装条件语句"></a>封装条件语句</h3><p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if(fsm.state.equals(&quot;fetching&quot;)&amp;&amp;listNode.isEmpty()&#123;</div><div class="line">        //...</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">void shouldShowSpinner(Fsm fsm, String listNode) &#123;</div><div class="line">        return fsm.state.equals(&quot;fetching&quot;)&amp;&amp;listNode.isEmpty();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">if (shouldShowSpinner(fsmInstance, listNodeInstance)) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="避免负面条件"><a href="#避免负面条件" class="headerlink" title="避免负面条件"></a>避免负面条件</h3><p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">void isDOMNodeNotPresent(Node node) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">if (!isDOMNodeNotPresent(node)) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">void isDOMNodePresent(Node node) &#123;</div><div class="line">            // ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">if (isDOMNodePresent(node)) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="避免条件语句"><a href="#避免条件语句" class="headerlink" title="避免条件语句"></a>避免条件语句</h3><p>这看起来似乎是一个不可能的任务。 第一次听到这个时， 多数人会说： “没有 <code>if</code> 语句还能期望我干<br>啥呢”， 答案是多数情况下你可以使用多态来完成同样的任务。 第二个问题通常是 “好了， 那么做很棒，<br>但是我为什么想要那样做呢”， 答案是我们学到的上一条代码整洁之道的理念： 一个函数应当只做一件事情。<br>当你有使用 <code>if</code> 语句的类/函数是， 你在告诉你的用户你的函数做了不止一件事情。 记住： 只做一件<br>事情。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">class Airplane&#123;</div><div class="line">       int getCurisingAltitude()&#123;</div><div class="line">           switch(this.type)&#123;</div><div class="line">               case &quot;777&quot;:</div><div class="line">                   return this.getMaxAltitude()-this.getPassengerCount();</div><div class="line">               case &quot;Air Force One&quot;:</div><div class="line">                   return this.getMaxAltitude();</div><div class="line">               case &quot;Cessna&quot;:</div><div class="line">                   return this.getMaxAltitude() - this.getFuelExpenditure();</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">class Airplane &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">class Boeing777 extends Airplane &#123;</div><div class="line">        // ...</div><div class="line">    int getCruisingAltitude() &#123;</div><div class="line">        return this.getMaxAltitude() - this.getPassengerCount();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class AirForceOne extends Airplane &#123;</div><div class="line">    // ...</div><div class="line">    int getCruisingAltitude() &#123;</div><div class="line">        return this.getMaxAltitude();</div><div class="line">       &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class Cessna extends Airplane &#123;</div><div class="line">    // ...</div><div class="line">    int getCruisingAltitude() &#123;</div><div class="line">        return this.getMaxAltitude() - this.getFuelExpenditure();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="移除僵尸代码"><a href="#移除僵尸代码" class="headerlink" title="移除僵尸代码"></a>移除僵尸代码</h3><p>僵死代码和冗余代码同样糟糕。 没有理由在代码库中保存它。 如果它不会被调用， 就删掉它。 当你需要<br>它时， 它依然保存在版本历史记录中。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">void  oldRequestModule(String url) &#123;</div><div class="line">    // ...</div><div class="line">&#125;</div><div class="line"></div><div class="line">void  newRequestModule(String url) &#123;</div><div class="line">    // ...</div><div class="line">&#125;</div><div class="line"></div><div class="line">String  req = newRequestModule;</div><div class="line">inventoryTracker(&quot;apples&quot;, req, &quot;www.inventory-awesome.io&quot;);</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">void  newRequestModule(String url) &#123;</div><div class="line">    // ...</div><div class="line">&#125;</div><div class="line"></div><div class="line">String  req = newRequestModule;</div><div class="line">inventoryTracker(&quot;apples&quot;, req, &quot;www.inventory-awesome.io&quot;);</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h2 id="对象和数据结构"><a href="#对象和数据结构" class="headerlink" title="对象和数据结构"></a><strong>对象和数据结构</strong></h2><h3 id="使用-getters-和-setters"><a href="#使用-getters-和-setters" class="headerlink" title="使用 getters 和 setters"></a>使用 getters 和 setters</h3><p> 使用 getters 和 setters 来访问对象上的数据比简单的在一个对象上查找属性<br>要好得多。 “为什么？” 你可能会问， 好吧， 原因请看下面的列表：</p>
<ul>
<li>当你想在获取一个对象属性的背后做更多的事情时， 你不需要在代码库中查找和修改每一处访问；</li>
<li>使用 <code>set</code> 可以让添加验证变得容易；</li>
<li>封装内部实现；</li>
<li>使用 getting 和 setting 时， 容易添加日志和错误处理；</li>
<li>继承这个类， 你可以重写默认功能；</li>
<li>你可以延迟加载对象的属性， 比如说从服务器获取。</li>
</ul>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">class BankAccount&#123;</div><div class="line">        public int balance=1000;</div><div class="line">    &#125;</div><div class="line">BankAccount bankAccount=new BankAccount();</div><div class="line">bankAccount.balance-=100;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">class BankAccount&#123;</div><div class="line">    private int blance=1000;</div><div class="line">    public int getBlance() &#123;</div><div class="line">         return blance;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setBlance(int blance) &#123;</div><div class="line">        if(verifyIfAmountCanBeSetted(blance))&#123;</div><div class="line">                this.blance = blance;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        void verifyIfAmountCanBeSetted(int amount)&#123;</div><div class="line">            //...</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    BankAccount bankAccount=new BankAccount();</div><div class="line">    bankAccount.setBlance(2000);</div><div class="line">    int balance=bankAccount.getBlance();</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a><strong>类</strong></h2><h3 id="使用方法链"><a href="#使用方法链" class="headerlink" title="使用方法链"></a>使用方法链</h3><p>这个模式在 Java 中是非常有用的， 并且你可以在许多类库比如 Glide 和 OkHttp 中见到。<br>它使你的代码变得富有表现力， 并减少啰嗦。 因为这个原因， 我说， 使用方法链然后再看看你的代码<br>会变得多么简洁。 在你的类／方法中， 简单的在每个方法的最后返回 <code>this</code> ， 然后你就能把这个类的<br>其它方法链在一起。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">class Car&#123;</div><div class="line">    private String make;</div><div class="line">    private String model;</div><div class="line">    private String color;</div><div class="line"></div><div class="line">    public void setMake(String make) &#123;</div><div class="line">        this.make = make;</div><div class="line">     &#125;</div><div class="line"></div><div class="line">     public void setModel(String model) &#123;</div><div class="line">        this.model = model;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setColor(String color) &#123;</div><div class="line">        this.color = color;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void save()&#123;</div><div class="line">        console.log(this.make, this.model, this.color);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Car car=new Car();</div><div class="line">car.setColor(&quot;pink&quot;);</div><div class="line">car.setMake(&quot;Ford&quot;);</div><div class="line">car.setModel(&quot;F-150&quot;);</div><div class="line">car.save();</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">class Car&#123;</div><div class="line">    private String make;</div><div class="line">    private String model;</div><div class="line">    private String color;</div><div class="line"></div><div class="line">    public Car setMake(String make) &#123;</div><div class="line">        this.make = make;</div><div class="line">        return this;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public Car setModel(String model) &#123;</div><div class="line">        this.model = model;</div><div class="line">        return this;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public Car setColor(String color) &#123;</div><div class="line">        this.color = color;</div><div class="line">        return this;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public Car save()&#123;</div><div class="line">        console.log(this.make, this.model, this.color);</div><div class="line">        return this;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Car car=new Car()</div><div class="line">.setColor(&quot;pink&quot;)</div><div class="line">.setMake(&quot;Ford&quot;)</div><div class="line">.setModel(&quot;F-150&quot;)</div><div class="line">.save();</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="组合优先于继承"><a href="#组合优先于继承" class="headerlink" title="组合优先于继承"></a>组合优先于继承</h3><p>正如<a href="https://en.wikipedia.org/wiki/Design_Patterns" target="_blank" rel="external"><em>设计模式四人帮</em></a>所述， 如果可能，<br>你应该优先使用组合而不是继承。 有许多好的理由去使用继承， 也有许多好的理由去使用组合。这个格言<br>的重点是， 如果你本能的观点是继承， 那么请想一下组合能否更好的为你的问题建模。 很多情况下它真的<br>可以。</p>
<p>那么你也许会这样想， “我什么时候改使用继承？” 这取决于你手上的问题， 不过这儿有一个像样的列表说<br>明什么时候继承比组合更好用：</p>
<ol>
<li>你的继承表示”是一个”的关系而不是”有一个”的关系（人类-&gt;动物 vs 用户-&gt;用户详情）；</li>
<li>你可以重用来自基类的代码（人可以像所有动物一样行动）；</li>
<li>你想通过基类对子类进行全局的修改（改变所有动物行动时的热量消耗）；</li>
</ol>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">class Employee&#123;</div><div class="line">    private String name;</div><div class="line">    private String email;</div><div class="line">&#125;</div><div class="line">// 不好是因为雇员“有”税率数据， EmployeeTaxData 不是一个 Employee 类型。</div><div class="line">class EmployeeTaxData extends Employee&#123;</div><div class="line">    private String ssn;</div><div class="line">    private String salary;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"> class EmployeeTaxData&#123;</div><div class="line">        private String ssn;</div><div class="line">        private String salary;</div><div class="line"></div><div class="line">        public EmployeeTaxData(String ssn, String salary) &#123;</div><div class="line">            this.ssn = ssn;</div><div class="line">            this.salary = salary;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">class Employee&#123;</div><div class="line">        private String name;</div><div class="line">        private String email;</div><div class="line">        private EmployeeTaxData taxData;</div><div class="line">        void setTaxData(String ssn,String salary)&#123;</div><div class="line">            this.taxData=new EmployeeTaxData(ssn,salary);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h2 id="SOLID"><a href="#SOLID" class="headerlink" title="SOLID"></a><strong>SOLID</strong></h2><h3 id="单一职责原则-SRP"><a href="#单一职责原则-SRP" class="headerlink" title="单一职责原则 (SRP)"></a>单一职责原则 (SRP)</h3><p>正如代码整洁之道所述， “永远不要有超过一个理由来修改一个类”。 给一个类塞满许多功能， 就像你在航<br>班上只能带一个行李箱一样， 这样做的问题你的类不会有理想的内聚性， 将会有太多的理由来对它进行修改。<br>最小化需要修改一个类的次数时很重要的， 因为如果一个类拥有太多的功能， 一旦你修改它的一小部分，<br>将会很难弄清楚会对代码库中的其它模块造成什么影响。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">class UserSettings &#123;</div><div class="line">       User user;</div><div class="line"></div><div class="line">       void changeSettings(UserSettings settings) &#123;</div><div class="line">           if (this.verifyCredentials()) &#123;</div><div class="line">               // ...</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       void verifyCredentials() &#123;</div><div class="line">           // ...</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">User user;</div><div class="line">UserAuth auth;</div><div class="line"></div><div class="line">public UserSettings(User user) &#123;</div><div class="line">    this.user = user;</div><div class="line">    this.auth = new UserAuth(user);</div><div class="line">&#125;</div><div class="line"></div><div class="line">void changeSettings(UserSettings settings) &#123;</div><div class="line">    if (this.auth.verifyCredentials()) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="开闭原则-OCP"><a href="#开闭原则-OCP" class="headerlink" title="开闭原则 (OCP)"></a>开闭原则 (OCP)</h3><p>Bertrand Meyer 说过， “软件实体 (类， 模块， 函数等) 应该为扩展开放， 但是为修改关闭。” 这<br>是什么意思呢？ 这个原则基本上说明了你应该允许用户添加功能而不必修改现有的代码。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">class AjaxAdapter extends Adapter &#123;</div><div class="line">    private String name;</div><div class="line">    public  AjaxAdapter() &#123;</div><div class="line">        this.name = &quot;ajaxAdapter&quot;;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class NodeAdapter extends Adapter &#123;</div><div class="line">    private String name;</div><div class="line">    public NodeAdapter() &#123;</div><div class="line">        this.name = &quot;nodeAdapter&quot;;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class HttpRequester &#123;</div><div class="line">    public HttpRequester(Adapter adapter) &#123;</div><div class="line">        this.adapter = adapter;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void fetch(String url) &#123;</div><div class="line">        if (&quot;ajaxAdapter&quot;.equals(this.adapter.name)) &#123;</div><div class="line">            makeAjaxCall(url);</div><div class="line">        &#125; else if (&quot;httpNodeAdapter&quot;.equals(this.adapter.name)) &#123;</div><div class="line">            makeHttpCall(url);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">    void  makeAjaxCall(String url) &#123;</div><div class="line">    // request and return promise</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void  makeHttpCall(String url) &#123;</div><div class="line">    // request and return promise</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">class AjaxAdapter extends Adapter &#123;</div><div class="line">    private String name;</div><div class="line">    public  AjaxAdapter() &#123;</div><div class="line">        this.name = &quot;ajaxAdapter&quot;;</div><div class="line">    &#125;</div><div class="line">    void request(String url)&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class NodeAdapter extends Adapter &#123;</div><div class="line">    private String name;</div><div class="line">    public NodeAdapter() &#123;</div><div class="line">        this.name = &quot;nodeAdapter&quot;;</div><div class="line">    &#125;</div><div class="line">    void request(String url)&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class HttpRequester &#123;</div><div class="line">    public  HttpRequester(Adapter adapter) &#123;</div><div class="line">        this.adapter = adapter;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void fetch(String url) &#123;</div><div class="line">        this.adapter.request(url);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="里氏代换原则-LSP"><a href="#里氏代换原则-LSP" class="headerlink" title="里氏代换原则 (LSP)"></a>里氏代换原则 (LSP)</h3><p>这是针对一个非常简单的里面的一个恐怖意图， 它的正式定义是： “如果 S 是 T 的一个子类型， 那么类<br>型为 T 的对象可以被类型为 S 的对象替换（例如， 类型为 S 的对象可作为类型为 T 的替代品）儿不需<br>要修改目标程序的期望性质 （正确性、 任务执行性等）。” 这甚至是个恐怖的定义。</p>
<p>最好的解释是， 如果你又一个基类和一个子类， 那个基类和字类可以互换而不会产生不正确的结果。 这可<br>能还有有些疑惑， 让我们来看一下这个经典的正方形与矩形的例子。 从数学上说， 一个正方形是一个矩形，<br>但是你用 “is-a” 的关系用继承来实现， 你将很快遇到麻烦。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">class Rectangle &#123;</div><div class="line">    protected int width;</div><div class="line">    protected int height;</div><div class="line">    public Rectangle() &#123;</div><div class="line">        this.width = 0;</div><div class="line">        this.height = 0;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void setColor(String color) &#123;</div><div class="line">       // ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void render(int  area) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void setWidth(int width) &#123;</div><div class="line">        this.width = width;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void setHeight(int height) &#123;</div><div class="line">        this.height = height;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int getArea() &#123;</div><div class="line">        return this.width * this.height;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class Square extends Rectangle &#123;</div><div class="line">    void setWidth(int width) &#123;</div><div class="line">        this.width = width;</div><div class="line">        this.height = width;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void setHeight(int height) &#123;</div><div class="line">        this.width = height;</div><div class="line">        this.height = height;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void  renderLargeRectangles(List&lt;Rectangle&gt; rectangles) &#123;</div><div class="line">    for(Rectangle rectangle:rectangles) &#123;</div><div class="line">        rectangle.setWidth(4);</div><div class="line">        rectangle.setHeight(5);</div><div class="line">        int area = rectangle.getArea(); // BAD: Will return 25 for Square. Should be 20.</div><div class="line">        rectangle.render(area);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">List&lt;Rectangle&gt; rectangles=new ArrayList&lt;&gt;();</div><div class="line">rectangles.add(new Rectangle());</div><div class="line">rectangles.add(new Rectangle());</div><div class="line">rectangles.add(new Square());</div><div class="line">renderLargeRectangles(rectangles);</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">class Shape &#123;</div><div class="line">    void setColor(String color) &#123;</div><div class="line">        // ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int getArea() &#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void render(int area) &#123;</div><div class="line">        // ...</div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class Rectangle extends Shape &#123;</div><div class="line">    private int width;</div><div class="line">    private int height;</div><div class="line">    public Rectangle(int width, int height) &#123;</div><div class="line">        super();</div><div class="line">        this.width = width;</div><div class="line">        this.height = height;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int getArea() &#123;</div><div class="line">        return this.width * this.height;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">class Square extends Shape &#123;</div><div class="line">    private int length;</div><div class="line">    public Square(int length) &#123;</div><div class="line">        super();</div><div class="line">        this.length = length;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int getArea() &#123;</div><div class="line">        return this.length * this.length;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void  renderLargeShapes(List&lt;Shape&gt; shapes) &#123;</div><div class="line">    for(Shape shape:shapes) &#123;</div><div class="line">        int area = shape.getArea();</div><div class="line">        shape.render(area);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">List&lt;Shape&gt; shapes=new ArrayList&lt;&gt;();</div><div class="line">shapes.add(new Rectangle(4,5));</div><div class="line">shapes.add(new Rectangle(4,5));</div><div class="line">shapes.add(new Square(5));</div><div class="line">renderLargeShapes(shapes);</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="接口隔离原则-ISP"><a href="#接口隔离原则-ISP" class="headerlink" title="接口隔离原则 (ISP)"></a>接口隔离原则 (ISP)</h3><p>接口隔离原则说的是 “客户端不应该强制依赖他们不需要的接口。”</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line">interface I &#123;</div><div class="line">          public void method1();</div><div class="line">          public void method2();</div><div class="line">          public void method3();</div><div class="line">          public void method4();</div><div class="line">          public void method5();</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      class A&#123;</div><div class="line">          public void depend1(I i)&#123;</div><div class="line">              i.method1();</div><div class="line">          &#125;</div><div class="line">          public void depend2(I i)&#123;</div><div class="line">              i.method2();</div><div class="line">          &#125;</div><div class="line">          public void depend3(I i)&#123;</div><div class="line">              i.method3();</div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">      class B&#123;</div><div class="line">          public void depend1(I i)&#123;</div><div class="line">              i.method1();</div><div class="line">          &#125;</div><div class="line">          public void depend2(I i)&#123;</div><div class="line">              i.method4();</div><div class="line">          &#125;</div><div class="line">          public void depend3(I i)&#123;</div><div class="line">              i.method5();</div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      class C implements I&#123;</div><div class="line">          public void method1() &#123;</div><div class="line">              System.out.println(&quot;类B实现接口I的方法1&quot;);</div><div class="line">          &#125;</div><div class="line">          public void method2() &#123;</div><div class="line">              System.out.println(&quot;类B实现接口I的方法2&quot;);</div><div class="line">          &#125;</div><div class="line">          public void method3() &#123;</div><div class="line">              System.out.println(&quot;类B实现接口I的方法3&quot;);</div><div class="line">          &#125;</div><div class="line">          //对于类B来说，method4和method5不是必需的，但是由于接口A中有这两个方法，</div><div class="line">          //所以在实现过程中即使这两个方法的方法体为空，也要将这两个没有作用的方法进行实现。</div><div class="line">          public void method4() &#123;&#125;</div><div class="line">          public void method5() &#123;&#125;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      class D implements I&#123;</div><div class="line">          public void method1() &#123;</div><div class="line">              System.out.println(&quot;类D实现接口I的方法1&quot;);</div><div class="line">          &#125;</div><div class="line">          //对于类D来说，method2和method3不是必需的，但是由于接口A中有这两个方法，</div><div class="line">          //所以在实现过程中即使这两个方法的方法体为空，也要将这两个没有作用的方法进行实现。</div><div class="line">          public void method2() &#123;&#125;</div><div class="line">          public void method3() &#123;&#125;</div><div class="line"></div><div class="line">          public void method4() &#123;</div><div class="line">              System.out.println(&quot;类D实现接口I的方法4&quot;);</div><div class="line">          &#125;</div><div class="line">          public void method5() &#123;</div><div class="line">              System.out.println(&quot;类D实现接口I的方法5&quot;);</div><div class="line">          &#125;</div><div class="line">      &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">interface I1 &#123;</div><div class="line">         public void method1();</div><div class="line">     &#125;</div><div class="line"></div><div class="line">     interface I2 &#123;</div><div class="line">         public void method2();</div><div class="line">         public void method3();</div><div class="line">     &#125;</div><div class="line"></div><div class="line">     interface I3 &#123;</div><div class="line">         public void method4();</div><div class="line">         public void method5();</div><div class="line">     &#125;</div><div class="line"></div><div class="line">     class A&#123;</div><div class="line">         public void depend1(I1 i)&#123;</div><div class="line">             i.method1();</div><div class="line">         &#125;</div><div class="line">         public void depend2(I2 i)&#123;</div><div class="line">             i.method2();</div><div class="line">         &#125;</div><div class="line">         public void depend3(I2 i)&#123;</div><div class="line">             i.method3();</div><div class="line">         &#125;</div><div class="line">     &#125;</div><div class="line"></div><div class="line">     class B&#123;</div><div class="line">         public void depend1(I1 i)&#123;</div><div class="line">             i.method1();</div><div class="line">         &#125;</div><div class="line">         public void depend2(I3 i)&#123;</div><div class="line">             i.method4();</div><div class="line">         &#125;</div><div class="line">         public void depend3(I3 i)&#123;</div><div class="line">             i.method5();</div><div class="line">         &#125;</div><div class="line">     &#125;</div><div class="line"></div><div class="line"></div><div class="line">     class C implements I1, I2&#123;</div><div class="line">         public void method1() &#123;</div><div class="line">             System.out.println(&quot;类B实现接口I1的方法1&quot;);</div><div class="line">         &#125;</div><div class="line">         public void method2() &#123;</div><div class="line">             System.out.println(&quot;类B实现接口I2的方法2&quot;);</div><div class="line">         &#125;</div><div class="line">         public void method3() &#123;</div><div class="line">             System.out.println(&quot;类B实现接口I2的方法3&quot;);</div><div class="line">         &#125;</div><div class="line">     &#125;</div><div class="line"></div><div class="line"></div><div class="line">     class D implements I1, I3&#123;</div><div class="line">         public void method1() &#123;</div><div class="line">             System.out.println(&quot;类D实现接口I1的方法1&quot;);</div><div class="line">         &#125;</div><div class="line">         public void method4() &#123;</div><div class="line">             System.out.println(&quot;类D实现接口I3的方法4&quot;);</div><div class="line">         &#125;</div><div class="line">         public void method5() &#123;</div><div class="line">             System.out.println(&quot;类D实现接口I3的方法5&quot;);</div><div class="line">         &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="依赖反转原则-DIP"><a href="#依赖反转原则-DIP" class="headerlink" title="依赖反转原则 (DIP)"></a>依赖反转原则 (DIP)</h3><p>这个原则阐述了两个重要的事情：</p>
<ol>
<li>高级模块不应该依赖于低级模块， 两者都应该依赖与抽象；</li>
<li>抽象不应当依赖于具体实现， 具体实现应当依赖于抽象。</li>
</ol>
<p>这个一开始会很难理解， 但是如果你使用过 Angular.js ， 你应该已经看到过通过依赖注入来实现的这<br>个原则， 虽然他们不是相同的概念， 依赖反转原则让高级模块远离低级模块的细节和创建， 可以通过 DI<br>来实现。 这样做的巨大益处是降低模块间的耦合。 耦合是一个非常糟糕的开发模式， 因为会导致代码难于<br>重构。</p>
<p>如上所述， JavaScript 没有接口， 所以被依赖的抽象是隐式契约。 也就是说， 一个对象/类的方法和<br>属性直接暴露给另外一个对象/类。 在下面的例子中， 任何一个 Request 模块的隐式契约 <code>InventoryTracker</code><br>将有一个 <code>requestItems</code> 方法。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">class InventoryRequester &#123;</div><div class="line">      private String REQ_METHODS;</div><div class="line">      public InventoryRequester() &#123;</div><div class="line">          this.REQ_METHODS = &quot;HTTP&quot;;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      void requestItem(String item) &#123;</div><div class="line">          // ...</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  class InventoryTracker &#123;</div><div class="line">      private List&lt;String&gt; items;</div><div class="line">      private InventoryRequester requester;</div><div class="line">      public InventoryTracker(List&lt;String&gt; items) &#123;</div><div class="line">          this.items = items;</div><div class="line"></div><div class="line">          // 不好的： 我们已经创建了一个对请求的具体实现的依赖， 我们只有一个 requestItems 方法依</div><div class="line">          // 赖一个请求方法 &apos;request&apos;</div><div class="line">          this.requester = new InventoryRequester();</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      void requestItems() &#123;</div><div class="line">          this.items.stream().forEach(item-&gt;this.requester.requestItem(item));</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  List&lt;String&gt; items=new ArrayList&lt;&gt;();</div><div class="line">  items.add(&quot;apples&quot;);</div><div class="line">  items.add(&quot;bananas&quot;);</div><div class="line">  InventoryTracker inventoryTracker = new InventoryTracker(items);</div><div class="line">  inventoryTracker.requestItems();</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">interface Requester&#123;</div><div class="line">          void requestItem(String item);</div><div class="line">      &#125;</div><div class="line"></div><div class="line"></div><div class="line">  class InventoryTracker &#123;</div><div class="line">      List&lt;String&gt; items;</div><div class="line">      Requester requester;</div><div class="line">      public InventoryTracker(List&lt;String&gt; items, Requester requester) &#123;</div><div class="line">          this.items = items;</div><div class="line">          this.requester = requester;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      void requestItems() &#123;</div><div class="line">          this.items.stream().forEach(item-&gt;requester.requestItem(item));</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  class InventoryRequesterV1 implements Requester&#123;</div><div class="line">      String REQ_METHODS;</div><div class="line">      public InventoryRequesterV1() &#123;</div><div class="line">          this.REQ_METHODS=&quot;HTTP&quot;;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      @Override</div><div class="line">      public void requestItem(String item) &#123;</div><div class="line">          // ...</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  class InventoryRequesterV2 implements Requester&#123;</div><div class="line">      String REQ_METHODS;</div><div class="line">      public InventoryRequesterV2() &#123;</div><div class="line">          this.REQ_METHODS=&quot;WS&quot;;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      @Override</div><div class="line">      public void requestItem(String item) &#123;</div><div class="line">          // ...</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">  // 通过外部创建依赖项并将它们注入， 我们可以轻松的用一个崭新的使用 WebSockets 的请求模块进行替换。</div><div class="line">  List&lt;String&gt; items=new ArrayList&lt;&gt;();</div><div class="line">  items.add(&quot;apples&quot;);</div><div class="line">  items.add(&quot;bananas&quot;);</div><div class="line">  InventoryTracker inventoryTracker = new InventoryTracker(items, new InventoryRequesterV2());</div><div class="line">  inventoryTracker.requestItems();</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a><strong>测试</strong></h2><p>测试比发布更加重要。 如果你没有测试或者测试不够充分， 每次发布时你就不能确认没有破坏任何事情。<br>测试的量由你的团队决定， 但是拥有 100% 的覆盖率(包括所有的语句和分支)是你为什么能达到高度自信<br>和内心的平静。 这意味着需要一个额外的伟大的测试框架， 也需要一个好的<a href="http://gotwarlost.github.io/istanbul/" target="_blank" rel="external">覆盖率工具</a>。</p>
<p>没有理由不写测试。 这里有<a href="http://jstherightway.org/#testing-tools" target="_blank" rel="external">大量的优秀的 JS 测试框架</a>，<br>选一个适合你的团队的即可。 当为团队选择了测试框架之后， 接下来的目标是为生产的每一个新的功能／模<br>块编写测试。 如果你倾向于测试驱动开发(TDD)， 那就太棒了， 但是要点是确认你在上线任何功能或者重<br>构一个现有功能之前， 达到了需要的目标覆盖率。</p>
<h3 id="一个测试一个概念"><a href="#一个测试一个概念" class="headerlink" title="一个测试一个概念"></a>一个测试一个概念</h3><p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">void testMakeMomentJSGreatAgain()&#123;</div><div class="line">        Date date;</div><div class="line">        date = new MakeMomentJSGreatAgain(&quot;1/1/2015&quot;);</div><div class="line">        date.addDays(30);</div><div class="line">        Assert.equal(date.getString(),&quot;1/31/2015&quot;).</div><div class="line"></div><div class="line">        date = new MakeMomentJSGreatAgain(&quot;2/1/2016&quot;);</div><div class="line">        date.addDays(28);</div><div class="line">        Assert.equal(date.getString(),&quot;02/29/2016&quot;);</div><div class="line"></div><div class="line">        date = new MakeMomentJSGreatAgain(&quot;2/1/2015&quot;);</div><div class="line">        date.addDays(28);</div><div class="line">        Assert.equal(date.getString(),&quot;03/01/2015&quot;);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">void testThirtyDayMonths()&#123;</div><div class="line">        Date date = new MakeMomentJSGreatAgain(&quot;1/1/2015&quot;);</div><div class="line">        date.addDays(30);</div><div class="line">        Assert.equal(date.getString(),&quot;1/31/2015&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">void testLeapYear()&#123;</div><div class="line">        Date date = new MakeMomentJSGreatAgain(&quot;2/1/2016&quot;);</div><div class="line">        date.addDays(28);</div><div class="line">        Assert.equal(date.getString(),&quot;02/29/2016&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">void testNonLeapYear()&#123;</div><div class="line">        Date date = new MakeMomentJSGreatAgain(&quot;2/1/2015&quot;);</div><div class="line">        date.addDays(28);</div><div class="line">        Assert.equal(date.getString(),&quot;03/01/2015&quot;);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a><strong>错误处理</strong></h2><p>抛出错误是一件好事情！ 他们意味着当你的程序有错时运行时可以成功确认， 并且通过停止执行当前堆栈<br>上的函数来让你知道， 结束当前进程（在 Node 中）， 在控制台中用一个堆栈跟踪提示你。</p>
<h3 id="不要忽略捕捉到的错误"><a href="#不要忽略捕捉到的错误" class="headerlink" title="不要忽略捕捉到的错误"></a>不要忽略捕捉到的错误</h3><p>对捕捉到的错误不做任何处理不能给你修复错误或者响应错误的能力。 向控制台记录错误 (<code>console.log</code>)<br>也不怎么好， 因为往往会丢失在海量的控制台输出中。 如果你把任意一段代码用 <code>try/catch</code> 包装那就<br>意味着你想到这里可能会错， 因此你应该有个修复计划， 或者当错误发生时有一个代码路径。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">try &#123;</div><div class="line">      functionThatMightThrow();</div><div class="line">  &#125; catch (Exception error) &#123;</div><div class="line">      console.log(error);</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">try &#123;</div><div class="line">       functionThatMightThrow();</div><div class="line">   &#125; catch (Exception error) &#123;</div><div class="line">       // One option (more noisy than console.log):</div><div class="line">       console.error(error);</div><div class="line">       // Another option:</div><div class="line">       notifyUserOfError(error);</div><div class="line">       // Another option:</div><div class="line">       reportErrorToService(error);</div><div class="line">       // OR do all three!</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a><strong>格式化</strong></h2><p>格式化是主观的。 就像其它规则一样， 没有必须让你遵守的硬性规则。 重点是不要因为格式去争论， 这<br>里有<a href="http://standardjs.com/rules.html" target="_blank" rel="external">大量的工具</a>来自动格式化， 使用其中的一个即可！ 因<br>为做为工程师去争论格式化就是在浪费时间和金钱。</p>
<p>针对自动格式化工具不能涵盖的问题（缩进、 制表符还是空格、 双引号还是单引号等）， 这里有一些指南。</p>
<h3 id="使用一致的大小写"><a href="#使用一致的大小写" class="headerlink" title="使用一致的大小写"></a>使用一致的大小写</h3><p>JavaScript 是无类型的， 所以大小写告诉你关于你的变量、 函数等的很多事情。 这些规则是主观的，<br>所以你的团队可以选择他们想要的。 重点是， 不管你们选择了什么， 要保持一致。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">int DAYS_IN_WEEK = 7;</div><div class="line">int  daysInMonth = 30;</div><div class="line"></div><div class="line">String[] songs = &#123;&quot;Back In Black&quot;, &quot;Stairway to Heaven&quot;, &quot;Hey Jude&quot;&#125;;</div><div class="line">String[] Artists = &#123;&quot;ACDC&quot;, &quot;Led Zeppelin&quot;, &quot;The Beatles&quot;&#125;;</div><div class="line"></div><div class="line">void eraseDatabase() &#123;&#125;</div><div class="line">void restore_database() &#123;&#125;</div><div class="line"></div><div class="line">class animal &#123;&#125;</div><div class="line">class Alpaca &#123;&#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">int DAYS_IN_WEEK = 7;</div><div class="line">int DAYS_IN_MONTH = 30;</div><div class="line"></div><div class="line">String[] songs = &#123;&quot;Back In Black&quot;, &quot;Stairway to Heaven&quot;, &quot;Hey Jude&quot;&#125;;</div><div class="line">String[] artists = &#123;&quot;ACDC&quot;, &quot;Led Zeppelin&quot;, &quot;The Beatles&quot;&#125;;</div><div class="line"></div><div class="line">void eraseDatabase() &#123;&#125;</div><div class="line">void restoreDatabase() &#123;&#125;</div><div class="line"></div><div class="line">class Animal &#123;&#125;</div><div class="line">class Alpaca &#123;&#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="函数的调用方与被调用方应该靠近"><a href="#函数的调用方与被调用方应该靠近" class="headerlink" title="函数的调用方与被调用方应该靠近"></a>函数的调用方与被调用方应该靠近</h3><p>如果一个函数调用另一个， 则在代码中这两个函数的竖直位置应该靠近。 理想情况下，保持被调用函数在被<br>调用函数的正上方。 我们倾向于从上到下阅读代码， 就像读一章报纸。 由于这个原因， 保持你的代码可<br>以按照这种方式阅读。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">class PerformanceReview &#123;</div><div class="line">       String employee;</div><div class="line">       public PerformanceReview(String employee) &#123;</div><div class="line">           this.employee = employee;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       String lookupPeers() &#123;</div><div class="line">           return db.lookup(this.employee, &quot;peers&quot;);</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       String lookupManager() &#123;</div><div class="line">           return db.lookup(this.employee, &quot;manager&quot;);</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       void getPeerReviews() &#123;</div><div class="line">           String  peers = this.lookupPeers();</div><div class="line">           // ...</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       public void perfReview() &#123;</div><div class="line">           this.getPeerReviews();</div><div class="line">           this.getManagerReview();</div><div class="line">           this.getSelfReview();</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       void getManagerReview() &#123;</div><div class="line">           String  manager = this.lookupManager();</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       void getSelfReview() &#123;</div><div class="line">           // ...</div><div class="line">       &#125;</div><div class="line">   &#125;</div><div class="line">   </div><div class="line">   PerformanceReview  review = new PerformanceReview(&quot;user&quot;);</div><div class="line">   review.perfReview();</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">class PerformanceReview &#123;</div><div class="line">        String employee;</div><div class="line">        public PerformanceReview(String employee) &#123;</div><div class="line">            this.employee = employee;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        void perfReview() &#123;</div><div class="line">            this.getPeerReviews();</div><div class="line">            this.getManagerReview();</div><div class="line">            this.getSelfReview();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        void getPeerReviews() &#123;</div><div class="line">            String  peers = this.lookupPeers();</div><div class="line">            // ...</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        String lookupPeers() &#123;</div><div class="line">            return db.lookup(this.employee, &quot;peers&quot;);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        void getManagerReview() &#123;</div><div class="line">            String  manager = this.lookupManager();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        String lookupManager() &#123;</div><div class="line">            return db.lookup(this.employee, &quot;manager&quot;);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        public void getSelfReview() &#123;</div><div class="line">            // ...</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    PerformanceReview review = new PerformanceReview(&quot;user&quot;);</div><div class="line">    review.perfReview();</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a><strong>注释</strong></h2><h3 id="仅仅对包含复杂业务逻辑的东西进行注释"><a href="#仅仅对包含复杂业务逻辑的东西进行注释" class="headerlink" title="仅仅对包含复杂业务逻辑的东西进行注释"></a>仅仅对包含复杂业务逻辑的东西进行注释</h3><p>注释是代码的辩解， 不是要求。 多数情况下， 好的代码就是文档。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">void hashIt(String data) &#123;</div><div class="line">        // The hash</div><div class="line">        long hash = 0;</div><div class="line"></div><div class="line">        // Length of string</div><div class="line">        int length = data.length();</div><div class="line"></div><div class="line">        // Loop through every character in data</div><div class="line">        for (int i = 0; i &lt; length; i++) &#123;</div><div class="line">            // Get character code.</div><div class="line">            char mChar = data.charAt(i);</div><div class="line">            // Make the hash</div><div class="line">            hash = ((hash &lt;&lt; 5) - hash) + mChar;</div><div class="line">            // Convert to 32-bit integer</div><div class="line">            hash &amp;= hash;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">void hashIt(String data) &#123;</div><div class="line">       long hash = 0;</div><div class="line">       int length = data.length();</div><div class="line"></div><div class="line">       for (int i = 0; i &lt; length; i++) &#123;</div><div class="line">           char mchar = data.charAt(i);</div><div class="line">           hash = ((hash &lt;&lt; 5) - hash) + mchar;</div><div class="line"></div><div class="line">           // Convert to 32-bit integer</div><div class="line">           hash &amp;= hash;</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="不要在代码库中保存注释掉的代码"><a href="#不要在代码库中保存注释掉的代码" class="headerlink" title="不要在代码库中保存注释掉的代码"></a>不要在代码库中保存注释掉的代码</h3><p>因为有版本控制， 把旧的代码留在历史记录即可。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">doStuff();</div><div class="line">// doOtherStuff();</div><div class="line">// doSomeMoreStuff();</div><div class="line">// doSoMuchStuff();</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">doStuff();</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="不要有日志式的注释"><a href="#不要有日志式的注释" class="headerlink" title="不要有日志式的注释"></a>不要有日志式的注释</h3><p>记住， 使用版本控制！ 不需要僵尸代码， 注释掉的代码， 尤其是日志式的注释。 使用 <code>git log</code> 来<br>获取历史记录。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 2016-12-20: Removed monads, didn&apos;t understand them (RM)</div><div class="line"> * 2016-10-01: Improved using special monads (JP)</div><div class="line"> * 2016-02-03: Removed type-checking (LI)</div><div class="line"> * 2015-03-14: Added combine with type-checking (JR)</div><div class="line"> */</div><div class="line"> </div><div class="line">void combine(String a, String b) &#123;</div><div class="line">    return a + b;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">void combine(String a, String b) &#123;</div><div class="line">        return a + b;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></p>
<h3 id="避免占位符"><a href="#避免占位符" class="headerlink" title="避免占位符"></a>避免占位符</h3><p>它们仅仅添加了干扰。 让函数和变量名称与合适的缩进和格式化为你的代码提供视觉结构。</p>
<p><strong>不好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">////////////////////////////////////////////////////////////////////////////////</div><div class="line">// Scope Model Instantiation</div><div class="line">////////////////////////////////////////////////////////////////////////////////</div><div class="line">String[] model = &#123;&quot;foo&quot;,&quot;bar&quot;&#125;;</div><div class="line"></div><div class="line">////////////////////////////////////////////////////////////////////////////////</div><div class="line">// Action setup</div><div class="line">////////////////////////////////////////////////////////////////////////////////</div><div class="line">void action()&#123;</div><div class="line">    //...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>好的：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">String[] model = &#123;&quot;foo&quot;,&quot;bar&quot;&#125;;</div><div class="line">      void action()&#123;</div><div class="line">          //...</div><div class="line">      &#125;</div></pre></td></tr></table></figure></p>
<h2 id="⬆-返回顶部"><a href="#⬆-返回顶部" class="headerlink" title="⬆ 返回顶部"></a><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></h2><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a><strong>工具</strong></h2><h3 id="Lint"><a href="#Lint" class="headerlink" title="Lint"></a><a href="https://developer.android.google.cn/studio/write/lint" target="_blank" rel="external">Lint</a></h3><p>Android Studio 提供了一个名为 Lint 的代码扫描工具，可帮助您发现并更正代码结构质量的问题，而无需您实际执行应用，也不必编写测试用例。系统会报告该工具检测到的每个问题并提供问题的描述消息和严重级别，以便您可以快速确定需要优先进行的关键改进。此外，您还可以降低问题的严重级别以忽略与项目无关的问题，或者提高严重级别以突出特定问题。</p>
<p>Lint 工具可以检查您的 Android 项目源文件是否有潜在的错误，以及在正确性、安全性、性能、易用性、无障碍性和国际化方面是否需要优化改进。</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/4/170a34230f1219ec?w=604&amp;h=287&amp;f=png&amp;s=29918" alt></p>
<p>Lint不仅支持Java语言，同是支持Kotlin、C/C++等的规范性检查，Android官方推荐的代码扫描工具。</p>
<h3 id="CheckStyle"><a href="#CheckStyle" class="headerlink" title="CheckStyle"></a><a href="https://checkstyle.org/" target="_blank" rel="external">CheckStyle</a></h3><p>CheckStyle作为检验代码规范的插件，除了可以使用配置默认给定的开发规范，如Sun的，Google的开发规范啊，也可以导入像阿里的开发规范的插件。事实上，每一个公司都存在不同的开发规范要求，所以大部分公司会给定自己的check规范，一般导入给定的checkstyle.xml文件即可实现。CheckStyle来辅助判断代码格式是否满足规范，保证团队成员开发的code风格一致。</p>
<p>CheckStyle检验的主要内容</p>
<ul>
<li>Javadoc注释</li>
<li>命名约定</li>
<li>标题</li>
<li>Import语句</li>
<li>体积大小</li>
<li>空白</li>
<li>修饰符</li>
<li>块</li>
<li>代码问题</li>
<li>类设计</li>
<li>混合检查（包括一些有用的比如非必须的System.out和printstackTrace）</li>
</ul>
<p>从上面可以看出，CheckStyle提供了大部分功能都是对于代码规范的检查。但CheckStyle目前只支持检查Java语言。</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/4/170a3a215261376c?w=1510&amp;h=778&amp;f=png&amp;s=223360" alt></p>
<h3 id="SonarLint"><a href="#SonarLint" class="headerlink" title="SonarLint"></a><a href="https://www.sonarlint.org/" target="_blank" rel="external">SonarLint</a></h3><p>SonarLint是一个IDE扩展，可帮助您在编写代码时检测和修复质量问题，在提交代码之前进行修复。</p>
<ul>
<li>错误检测</li>
</ul>
<p>受益于已有的数千条规则 ; 可以检测常见错误，棘手错误和已知漏洞</p>
<ul>
<li>即时反馈</li>
</ul>
<p>就像拼写检查器一样，在编码时会检测到并报告问题</p>
<ul>
<li>丰富的文档</li>
</ul>
<p>精确地指出了问题所在，并为您提供了解决方法的建议</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/4/170a47f863d2a8ef?w=2746&amp;h=1306&amp;f=png&amp;s=389802" alt></p>
<h3 id="Alibaba-Java-Coding-Guidelines"><a href="#Alibaba-Java-Coding-Guidelines" class="headerlink" title="Alibaba Java Coding Guidelines"></a><a href="https://github.com/alibaba/p3c" target="_blank" rel="external">Alibaba Java Coding Guidelines</a></h3><p>阿里巴巴于10月14号在杭州云栖大会上，正式发布《阿里巴巴Java开发规约》的扫描插件。该插件在扫描代码后，将不符合规约的代码按Blocker/Critical/Major三个等级显示在下方，甚至在IDEA上，该插件还基于Inspection机制提供了实时检测功能，编写代码的同时也能快速发现问题所在。对于历史代码，部分规则实现了批量一键修复的功能。</p>
<ul>
<li>Blocker</li>
</ul>
<p>即系统无法执行、崩溃或严重资源不足、应用模块无法启动或异常退出、无法测试、造成系统不稳定。<br>严重花屏、内存泄漏、用户数据丢失或破坏、系统崩溃/死机/冻结、模块无法启动或异常退出、严重的数值计算错误、功能设计与需求严重不符、其它导致无法测试的错误, 如服务器500错误</p>
<ul>
<li>Critical</li>
</ul>
<p>即影响系统功能或操作，主要功能存在严重缺陷，但不会影响到系统稳定性。<br>功能未实现、功能错误、系统刷新错误、数据通讯错误、轻微的数值计算错误、影响功能及界面的错误字或拼写错误、安全性问题</p>
<ul>
<li>Major</li>
</ul>
<p>即界面、性能缺陷、兼容性。操作界面错误（包括数据窗口内列名定义、含义是否一致）、边界条件下错误、提示信息错误（包括未给出信息、信息提示错误等）、长时间操作无进度提示、系统未优化（性能问题）、光标跳转设置不好，鼠标（光标）定位错误、兼容性问题</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/4/170a39d986563f1b?w=635&amp;h=308&amp;f=png&amp;s=13685" alt></p>
<p><strong>不同的代码检查工具原理相同，但侧重点不一样，在实际的项目开发中，可以根据自己的团队及项目情况进行选择及组合，定义自己的团队规范。</strong></p>
<h2 id="⬆-返回顶部-1"><a href="#⬆-返回顶部-1" class="headerlink" title="⬆ 返回顶部"></a><strong><a href="#代码整洁的-Java">⬆ 返回顶部</a></strong></h2><h1 id="谜题"><a href="#谜题" class="headerlink" title="谜题"></a>谜题</h1><p>程序员在背负期限的压力下，只好追求快速的开发速度，于是为代码制造了混 乱，却认为自己因此没法做到更快。</p>
<p>制造混乱只会立刻拖慢你，叫你错过期限。赶上期限的唯一方法、做得快的唯一方法就是始终尽可能保持代码整洁。</p>
<h2 id="关于"><a href="#关于" class="headerlink" title="关于"></a>关于</h2><p><strong>欢迎关注我的个人公众号</strong></p>
<p>微信搜索：<strong>一码一浮生</strong>，或者搜索公众号ID:<strong>life2code</strong></p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/16/170e0c3c64a3f0ff?w=1066&amp;h=386&amp;f=png&amp;s=117806" alt></p>
<ul>
<li>作者：黄俊彬 </li>
<li><a href="https://junbin.tech/" target="_blank" rel="external">博客：junbin.tech</a></li>
<li><a href="https://github.com/junbin1011" target="_blank" rel="external">GitHub: junbin1011 </a></li>
<li><a href="https://www.zhihu.com/people/junbin-9-77" target="_blank" rel="external">知乎: @JunBin</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/整洁代码/" rel="tag"># 整洁代码</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/02/23/如何快速为你的Github项目搭建CICD/" rel="next" title="如何快速为你的Github项目搭建CICD">
                <i class="fa fa-chevron-left"></i> 如何快速为你的Github项目搭建CICD
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/04/21/Android项目指南/" rel="prev" title="Android项目指南">
                Android项目指南 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2020/03/16/clean-code-java-你都会了吗？/" data-title="clean-code-java 你都会了吗？" data-url="https://junbin1011.github.io/2020/03/16/clean-code-java-你都会了吗？/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://note.youdao.com/yws/api/personal/file/WEB917b08143504a6f8c96228312fcb5245?method=download&shareKey=03cb5c302c83b56bbb91668c5008444f" alt="黄俊彬">
          <p class="site-author-name" itemprop="name">黄俊彬</p>
           
              <p class="site-description motion-element" itemprop="description">一花一世界，一码一浮生</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">79</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/junbin1011" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/junbin-9-77" target="_blank" title="zhihu">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  zhihu
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#代码整洁的-Java"><span class="nav-number">1.</span> <span class="nav-text">代码整洁的-Java</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#目录"><span class="nav-number">1.1.</span> <span class="nav-text">目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简介"><span class="nav-number">1.2.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#变量"><span class="nav-number">1.3.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用有意义并且可读的变量名称"><span class="nav-number">1.3.1.</span> <span class="nav-text">使用有意义并且可读的变量名称</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为相同类型的变量使用相同的词汇"><span class="nav-number">1.3.2.</span> <span class="nav-text">为相同类型的变量使用相同的词汇</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用可搜索的名称"><span class="nav-number">1.3.3.</span> <span class="nav-text">使用可搜索的名称</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用解释性的变量"><span class="nav-number">1.3.4.</span> <span class="nav-text">使用解释性的变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免心理映射"><span class="nav-number">1.3.5.</span> <span class="nav-text">避免心理映射</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不添加不必要的上下文"><span class="nav-number">1.3.6.</span> <span class="nav-text">不添加不必要的上下文</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数"><span class="nav-number">1.4.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#函数参数-两个以下最理想"><span class="nav-number">1.4.1.</span> <span class="nav-text">函数参数 (两个以下最理想)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数应当只做一件事情"><span class="nav-number">1.4.2.</span> <span class="nav-text">函数应当只做一件事情</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数名称应该说明它要做什么"><span class="nav-number">1.4.3.</span> <span class="nav-text">函数名称应该说明它要做什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数应该只有一个抽象级别"><span class="nav-number">1.4.4.</span> <span class="nav-text">函数应该只有一个抽象级别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#移除冗余代码"><span class="nav-number">1.4.5.</span> <span class="nav-text">移除冗余代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不要使用标记位做为函数参数"><span class="nav-number">1.4.6.</span> <span class="nav-text">不要使用标记位做为函数参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免副作用"><span class="nav-number">1.4.7.</span> <span class="nav-text">避免副作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数式编程优于指令式编程"><span class="nav-number">1.4.8.</span> <span class="nav-text">函数式编程优于指令式编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#封装条件语句"><span class="nav-number">1.4.9.</span> <span class="nav-text">封装条件语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免负面条件"><span class="nav-number">1.4.10.</span> <span class="nav-text">避免负面条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免条件语句"><span class="nav-number">1.4.11.</span> <span class="nav-text">避免条件语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#移除僵尸代码"><span class="nav-number">1.4.12.</span> <span class="nav-text">移除僵尸代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象和数据结构"><span class="nav-number">1.5.</span> <span class="nav-text">对象和数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-getters-和-setters"><span class="nav-number">1.5.1.</span> <span class="nav-text">使用 getters 和 setters</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类"><span class="nav-number">1.6.</span> <span class="nav-text">类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用方法链"><span class="nav-number">1.6.1.</span> <span class="nav-text">使用方法链</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#组合优先于继承"><span class="nav-number">1.6.2.</span> <span class="nav-text">组合优先于继承</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SOLID"><span class="nav-number">1.7.</span> <span class="nav-text">SOLID</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#单一职责原则-SRP"><span class="nav-number">1.7.1.</span> <span class="nav-text">单一职责原则 (SRP)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开闭原则-OCP"><span class="nav-number">1.7.2.</span> <span class="nav-text">开闭原则 (OCP)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#里氏代换原则-LSP"><span class="nav-number">1.7.3.</span> <span class="nav-text">里氏代换原则 (LSP)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#接口隔离原则-ISP"><span class="nav-number">1.7.4.</span> <span class="nav-text">接口隔离原则 (ISP)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#依赖反转原则-DIP"><span class="nav-number">1.7.5.</span> <span class="nav-text">依赖反转原则 (DIP)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#测试"><span class="nav-number">1.8.</span> <span class="nav-text">测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#一个测试一个概念"><span class="nav-number">1.8.1.</span> <span class="nav-text">一个测试一个概念</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#错误处理"><span class="nav-number">1.9.</span> <span class="nav-text">错误处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#不要忽略捕捉到的错误"><span class="nav-number">1.9.1.</span> <span class="nav-text">不要忽略捕捉到的错误</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#格式化"><span class="nav-number">1.10.</span> <span class="nav-text">格式化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用一致的大小写"><span class="nav-number">1.10.1.</span> <span class="nav-text">使用一致的大小写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数的调用方与被调用方应该靠近"><span class="nav-number">1.10.2.</span> <span class="nav-text">函数的调用方与被调用方应该靠近</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注释"><span class="nav-number">1.11.</span> <span class="nav-text">注释</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#仅仅对包含复杂业务逻辑的东西进行注释"><span class="nav-number">1.11.1.</span> <span class="nav-text">仅仅对包含复杂业务逻辑的东西进行注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不要在代码库中保存注释掉的代码"><span class="nav-number">1.11.2.</span> <span class="nav-text">不要在代码库中保存注释掉的代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不要有日志式的注释"><span class="nav-number">1.11.3.</span> <span class="nav-text">不要有日志式的注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免占位符"><span class="nav-number">1.11.4.</span> <span class="nav-text">避免占位符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#⬆-返回顶部"><span class="nav-number">1.12.</span> <span class="nav-text">⬆ 返回顶部</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#工具"><span class="nav-number">1.13.</span> <span class="nav-text">工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Lint"><span class="nav-number">1.13.1.</span> <span class="nav-text">Lint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CheckStyle"><span class="nav-number">1.13.2.</span> <span class="nav-text">CheckStyle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SonarLint"><span class="nav-number">1.13.3.</span> <span class="nav-text">SonarLint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Alibaba-Java-Coding-Guidelines"><span class="nav-number">1.13.4.</span> <span class="nav-text">Alibaba Java Coding Guidelines</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#⬆-返回顶部-1"><span class="nav-number">1.14.</span> <span class="nav-text">⬆ 返回顶部</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#谜题"><span class="nav-number">2.</span> <span class="nav-text">谜题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#关于"><span class="nav-number">2.1.</span> <span class="nav-text">关于</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">黄俊彬</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"junbin"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  













  
  

  

  

  

  


  

</body>
</html>
